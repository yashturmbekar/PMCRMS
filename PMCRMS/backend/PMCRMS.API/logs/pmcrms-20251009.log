2025-10-09 12:17:34.833 +05:30 [ERR] An error occurred using the connection to database 'PMCRMS_DB' on server 'tcp://localhost:5432'.
2025-10-09 12:24:34.887 +05:30 [INF] Applying database migrations...
2025-10-09 12:24:35.593 +05:30 [ERR] An error occurred using the connection to database 'PMCRMS_DB' on server 'tcp://localhost:5432'.
2025-10-09 12:24:35.597 +05:30 [ERR] An error occurred while applying database migrations.
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrations()
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrations()
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\Ezybricks\PMCRMS\backend\PMCRMS.API\Program.cs:line 142
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 326
    Routine: auth_failed
2025-10-09 12:24:35.631 +05:30 [INF] PMCRMS API is starting up...
2025-10-09 12:24:35.649 +05:30 [INF] User profile is available. Using 'C:\Users\YashTurmbekar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-09 12:24:35.869 +05:30 [INF] Now listening on: http://localhost:5086
2025-10-09 12:24:35.874 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-10-09 12:24:35.876 +05:30 [INF] Hosting environment: Development
2025-10-09 12:24:35.877 +05:30 [INF] Content root path: D:\Ezybricks\PMCRMS\backend\PMCRMS.API
2025-10-09 12:24:57.362 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5086/swagger?id=06426d1a-4639-4292-98c6-109cd8090f17&vscodeBrowserReqId=1759992897304 - null null
2025-10-09 12:24:57.406 +05:30 [WRN] Failed to determine the https port for redirect.
2025-10-09 12:24:58.573 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5086/swagger?id=06426d1a-4639-4292-98c6-109cd8090f17&vscodeBrowserReqId=1759992897304 - 404 0 null 1212.2802ms
2025-10-09 12:24:58.593 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5086/swagger, Response status code: 404
2025-10-09 12:25:08.027 +05:30 [INF] Application is shutting down...
2025-10-09 12:25:50.578 +05:30 [INF] Applying database migrations...
2025-10-09 12:25:51.251 +05:30 [ERR] An error occurred using the connection to database 'PMCRMS_DB' on server 'tcp://localhost:5432'.
2025-10-09 12:25:51.256 +05:30 [ERR] An error occurred while applying database migrations.
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrations()
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrations()
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\Ezybricks\PMCRMS\backend\PMCRMS.API\Program.cs:line 142
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 326
    Routine: auth_failed
2025-10-09 12:25:51.279 +05:30 [INF] PMCRMS API is starting up...
2025-10-09 12:25:51.297 +05:30 [INF] User profile is available. Using 'C:\Users\YashTurmbekar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-09 12:25:51.362 +05:30 [INF] Now listening on: http://localhost:5086
2025-10-09 12:25:51.366 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-10-09 12:25:51.368 +05:30 [INF] Hosting environment: Development
2025-10-09 12:25:51.369 +05:30 [INF] Content root path: D:\Ezybricks\PMCRMS\backend\PMCRMS.API
2025-10-09 12:26:11.960 +05:30 [INF] Application is shutting down...
2025-10-09 12:29:00.653 +05:30 [INF] Applying database migrations...
2025-10-09 12:29:01.390 +05:30 [ERR] An error occurred using the connection to database 'PMCRMS_DB' on server 'tcp://localhost:5432'.
2025-10-09 12:29:01.394 +05:30 [ERR] An error occurred while applying database migrations.
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrations()
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrations()
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\Ezybricks\PMCRMS\backend\PMCRMS.API\Program.cs:line 142
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 326
    Routine: auth_failed
2025-10-09 12:29:01.426 +05:30 [INF] PMCRMS API is starting up...
2025-10-09 12:29:01.477 +05:30 [INF] User profile is available. Using 'C:\Users\YashTurmbekar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-09 12:29:01.580 +05:30 [INF] Now listening on: http://localhost:5086
2025-10-09 12:29:01.583 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-10-09 12:29:01.584 +05:30 [INF] Hosting environment: Development
2025-10-09 12:29:01.585 +05:30 [INF] Content root path: D:\Ezybricks\PMCRMS\backend\PMCRMS.API
2025-10-09 12:33:17.921 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5086/api/auth/test - null null
2025-10-09 12:33:17.963 +05:30 [WRN] Failed to determine the https port for redirect.
2025-10-09 12:33:17.987 +05:30 [INF] Executing endpoint 'PMCRMS.API.Controllers.AuthController.Test (PMCRMS.API)'
2025-10-09 12:33:18.011 +05:30 [INF] Route matched with {action = "Test", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PMCRMS.API.DTOs.ApiResponse] Test() on controller PMCRMS.API.Controllers.AuthController (PMCRMS.API).
2025-10-09 12:33:18.025 +05:30 [INF] Executing OkObjectResult, writing value of type 'PMCRMS.API.DTOs.ApiResponse'.
2025-10-09 12:33:18.098 +05:30 [INF] Executed action PMCRMS.API.Controllers.AuthController.Test (PMCRMS.API) in 81.3174ms
2025-10-09 12:33:18.123 +05:30 [INF] Executed endpoint 'PMCRMS.API.Controllers.AuthController.Test (PMCRMS.API)'
2025-10-09 12:33:18.133 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5086/api/auth/test - 200 null application/json; charset=utf-8 212.3807ms
2025-10-09 12:33:18.775 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5086/favicon.ico - null null
2025-10-09 12:33:18.785 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5086/favicon.ico - 404 0 null 10.5775ms
2025-10-09 12:33:18.794 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5086/favicon.ico, Response status code: 404
2025-10-09 12:35:03.054 +05:30 [INF] Application is shutting down...
2025-10-09 12:43:38.701 +05:30 [INF] Applying database migrations...
2025-10-09 12:43:39.553 +05:30 [ERR] Failed executing DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-10-09 12:43:39.809 +05:30 [ERR] An error occurred while applying database migrations.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'PMCRMSDbContext' changes each time it is built. This is usually caused by dynamic values used in a 'HasData' call (e.g. `new DateTime()`, `Guid.NewGuid()`). Add a new migration and examine its contents to locate the cause, and replace the dynamic call with a static, hardcoded value. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.NonDeterministicModel(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\Ezybricks\PMCRMS\backend\PMCRMS.API\Program.cs:line 142
2025-10-09 12:43:39.832 +05:30 [INF] PMCRMS API is starting up...
2025-10-09 12:43:39.846 +05:30 [INF] User profile is available. Using 'C:\Users\YashTurmbekar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-09 12:43:39.927 +05:30 [INF] Now listening on: http://localhost:5086
2025-10-09 12:43:39.930 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-10-09 12:43:39.933 +05:30 [INF] Hosting environment: Development
2025-10-09 12:43:39.934 +05:30 [INF] Content root path: D:\Ezybricks\PMCRMS\backend\PMCRMS.API
2025-10-09 12:44:51.947 +05:30 [INF] Application is shutting down...
2025-10-09 12:45:13.800 +05:30 [INF] Executed DbCommand (200ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "PMCRMS_DB" WITH (FORCE);
2025-10-09 12:46:23.370 +05:30 [INF] Applying database migrations...
2025-10-09 12:46:24.335 +05:30 [ERR] An error occurred using the connection to database 'PMCRMS_DB' on server 'tcp://localhost:5432'.
2025-10-09 12:46:25.049 +05:30 [INF] Executed DbCommand (351ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "PMCRMS_DB";
2025-10-09 12:46:25.240 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-10-09 12:46:25.253 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-09 12:46:25.257 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-10-09 12:46:25.263 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-10-09 12:46:25.277 +05:30 [INF] Applying migration '20251009064503_InitialCreate'.
2025-10-09 12:46:25.348 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "OtpVerifications" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Identifier" character varying(255) NOT NULL,
    "OtpCode" character varying(10) NOT NULL,
    "Purpose" character varying(20) NOT NULL,
    "ExpiryTime" timestamp with time zone NOT NULL,
    "IsUsed" boolean NOT NULL,
    "IsActive" boolean NOT NULL,
    "AttemptCount" integer NOT NULL,
    "VerifiedAt" timestamp with time zone,
    "SessionToken" character varying(50),
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone,
    "CreatedBy" character varying(100),
    "UpdatedBy" character varying(100),
    CONSTRAINT "PK_OtpVerifications" PRIMARY KEY ("Id")
);
2025-10-09 12:46:25.364 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Email" character varying(255) NOT NULL,
    "PhoneNumber" character varying(15) NOT NULL,
    "Role" integer NOT NULL,
    "IsActive" boolean NOT NULL,
    "Address" character varying(255),
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone,
    "CreatedBy" character varying(100),
    "UpdatedBy" character varying(100),
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2025-10-09 12:46:25.381 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Applications" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ApplicationNumber" character varying(20) NOT NULL,
    "Type" integer NOT NULL,
    "CurrentStatus" integer NOT NULL,
    "ApplicantId" integer NOT NULL,
    "ProjectTitle" character varying(500) NOT NULL,
    "ProjectDescription" character varying(1000) NOT NULL,
    "SiteAddress" character varying(1000) NOT NULL,
    "PlotArea" numeric(10,2) NOT NULL,
    "BuiltUpArea" numeric(10,2) NOT NULL,
    "EstimatedCost" numeric(10,2),
    "ScheduledAppointmentDate" timestamp with time zone,
    "AppointmentRemarks" character varying(1000),
    "FeeAmount" numeric(8,2),
    "PaymentDueDate" timestamp with time zone,
    "CertificateNumber" character varying(50),
    "CertificateIssuedDate" timestamp with time zone,
    "Remarks" character varying(1000),
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone,
    "CreatedBy" character varying(100),
    "UpdatedBy" character varying(100),
    CONSTRAINT "PK_Applications" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Applications_Users_ApplicantId" FOREIGN KEY ("ApplicantId") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-10-09 12:46:25.394 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApplicationComments" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ApplicationId" integer NOT NULL,
    "CommentedBy" integer NOT NULL,
    "Comment" character varying(2000) NOT NULL,
    "CommentType" character varying(100),
    "IsInternal" boolean NOT NULL,
    "IsVisible" boolean NOT NULL,
    "ParentCommentId" integer,
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone,
    "CreatedBy" character varying(100),
    "UpdatedBy" character varying(100),
    CONSTRAINT "PK_ApplicationComments" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ApplicationComments_ApplicationComments_ParentCommentId" FOREIGN KEY ("ParentCommentId") REFERENCES "ApplicationComments" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_ApplicationComments_Applications_ApplicationId" FOREIGN KEY ("ApplicationId") REFERENCES "Applications" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ApplicationComments_Users_CommentedBy" FOREIGN KEY ("CommentedBy") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-10-09 12:46:25.406 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApplicationDocuments" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ApplicationId" integer NOT NULL,
    "Type" integer NOT NULL,
    "FileName" character varying(255) NOT NULL,
    "FilePath" character varying(500) NOT NULL,
    "ContentType" character varying(100),
    "FileSize" bigint NOT NULL,
    "Description" character varying(500),
    "IsRequired" boolean NOT NULL,
    "IsVerified" boolean NOT NULL,
    "VerifiedBy" integer,
    "VerifiedDate" timestamp with time zone,
    "VerificationRemarks" character varying(500),
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone,
    "CreatedBy" character varying(100),
    "UpdatedBy" character varying(100),
    CONSTRAINT "PK_ApplicationDocuments" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ApplicationDocuments_Applications_ApplicationId" FOREIGN KEY ("ApplicationId") REFERENCES "Applications" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ApplicationDocuments_Users_VerifiedBy" FOREIGN KEY ("VerifiedBy") REFERENCES "Users" ("Id") ON DELETE SET NULL
);
2025-10-09 12:46:25.419 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApplicationStatuses" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ApplicationId" integer NOT NULL,
    "Status" integer NOT NULL,
    "UpdatedByUserId" integer NOT NULL,
    "Remarks" character varying(1000),
    "RejectionReason" character varying(500),
    "StatusDate" timestamp with time zone NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone,
    "CreatedBy" character varying(100),
    "UpdatedBy" character varying(100),
    CONSTRAINT "PK_ApplicationStatuses" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ApplicationStatuses_Applications_ApplicationId" FOREIGN KEY ("ApplicationId") REFERENCES "Applications" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ApplicationStatuses_Users_UpdatedByUserId" FOREIGN KEY ("UpdatedByUserId") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-10-09 12:46:25.431 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Payments" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ApplicationId" integer NOT NULL,
    "PaymentId" character varying(50) NOT NULL,
    "TransactionId" character varying(50) NOT NULL,
    "Amount" numeric(10,2) NOT NULL,
    "Status" integer NOT NULL,
    "Method" integer NOT NULL,
    "Description" character varying(500),
    "PaymentDate" timestamp with time zone NOT NULL,
    "ProcessedDate" timestamp with time zone,
    "GatewayTransactionId" character varying(100),
    "GatewayPaymentId" character varying(50),
    "GatewayResponse" character varying(1000),
    "FailureReason" character varying(500),
    "ProcessedBy" integer,
    "ProcessingRemarks" character varying(500),
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone,
    "CreatedBy" character varying(100),
    "UpdatedBy" character varying(100),
    CONSTRAINT "PK_Payments" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Payments_Applications_ApplicationId" FOREIGN KEY ("ApplicationId") REFERENCES "Applications" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Payments_Users_ProcessedBy" FOREIGN KEY ("ProcessedBy") REFERENCES "Users" ("Id") ON DELETE SET NULL
);
2025-10-09 12:46:25.443 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Address", "CreatedBy", "CreatedDate", "Email", "IsActive", "Name", "PhoneNumber", "Role", "UpdatedBy", "UpdatedDate")
VALUES (1, NULL, 'System', TIMESTAMPTZ '2025-10-09T06:45:01.987721Z', 'admin@pmcrms.gov.in', TRUE, 'System Administrator', '9999999999', 7, NULL, NULL);
INSERT INTO "Users" ("Id", "Address", "CreatedBy", "CreatedDate", "Email", "IsActive", "Name", "PhoneNumber", "Role", "UpdatedBy", "UpdatedDate")
VALUES (2, NULL, 'System', TIMESTAMPTZ '2025-10-09T06:45:01.988255Z', 'je@pmcrms.gov.in', TRUE, 'Junior Engineer', '9999999998', 2, NULL, NULL);
INSERT INTO "Users" ("Id", "Address", "CreatedBy", "CreatedDate", "Email", "IsActive", "Name", "PhoneNumber", "Role", "UpdatedBy", "UpdatedDate")
VALUES (3, NULL, 'System', TIMESTAMPTZ '2025-10-09T06:45:01.988256Z', 'ae@pmcrms.gov.in', TRUE, 'Assistant Engineer', '9999999997', 3, NULL, NULL);
INSERT INTO "Users" ("Id", "Address", "CreatedBy", "CreatedDate", "Email", "IsActive", "Name", "PhoneNumber", "Role", "UpdatedBy", "UpdatedDate")
VALUES (4, NULL, 'System', TIMESTAMPTZ '2025-10-09T06:45:01.988256Z', 'ee@pmcrms.gov.in', TRUE, 'Executive Engineer', '9999999996', 4, NULL, NULL);
INSERT INTO "Users" ("Id", "Address", "CreatedBy", "CreatedDate", "Email", "IsActive", "Name", "PhoneNumber", "Role", "UpdatedBy", "UpdatedDate")
VALUES (5, NULL, 'System', TIMESTAMPTZ '2025-10-09T06:45:01.988256Z', 'ce@pmcrms.gov.in', TRUE, 'City Engineer', '9999999995', 5, NULL, NULL);
INSERT INTO "Users" ("Id", "Address", "CreatedBy", "CreatedDate", "Email", "IsActive", "Name", "PhoneNumber", "Role", "UpdatedBy", "UpdatedDate")
VALUES (6, NULL, 'System', TIMESTAMPTZ '2025-10-09T06:45:01.988256Z', 'clerk@pmcrms.gov.in', TRUE, 'Clerk', '9999999994', 6, NULL, NULL);
2025-10-09 12:46:25.450 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ApplicationComments_ApplicationId" ON "ApplicationComments" ("ApplicationId");
2025-10-09 12:46:25.455 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ApplicationComments_CommentedBy" ON "ApplicationComments" ("CommentedBy");
2025-10-09 12:46:25.459 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ApplicationComments_ParentCommentId" ON "ApplicationComments" ("ParentCommentId");
2025-10-09 12:46:25.464 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ApplicationDocuments_ApplicationId" ON "ApplicationDocuments" ("ApplicationId");
2025-10-09 12:46:25.468 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ApplicationDocuments_VerifiedBy" ON "ApplicationDocuments" ("VerifiedBy");
2025-10-09 12:46:25.472 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Applications_ApplicantId" ON "Applications" ("ApplicantId");
2025-10-09 12:46:25.476 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Applications_ApplicationNumber" ON "Applications" ("ApplicationNumber");
2025-10-09 12:46:25.481 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ApplicationStatuses_ApplicationId" ON "ApplicationStatuses" ("ApplicationId");
2025-10-09 12:46:25.485 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ApplicationStatuses_UpdatedByUserId" ON "ApplicationStatuses" ("UpdatedByUserId");
2025-10-09 12:46:25.490 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_OtpVerifications_Identifier_Purpose_IsActive" ON "OtpVerifications" ("Identifier", "Purpose", "IsActive");
2025-10-09 12:46:25.494 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Payments_ApplicationId" ON "Payments" ("ApplicationId");
2025-10-09 12:46:25.499 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Payments_PaymentId" ON "Payments" ("PaymentId");
2025-10-09 12:46:25.503 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Payments_ProcessedBy" ON "Payments" ("ProcessedBy");
2025-10-09 12:46:25.507 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Payments_TransactionId" ON "Payments" ("TransactionId");
2025-10-09 12:46:25.513 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Email" ON "Users" ("Email");
2025-10-09 12:46:25.518 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_PhoneNumber" ON "Users" ("PhoneNumber");
2025-10-09 12:46:25.524 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"Users"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Users") + 1,
        nextval(pg_get_serial_sequence('"Users"', 'Id'))),
    false);
2025-10-09 12:46:25.527 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251009064503_InitialCreate', '9.0.9');
2025-10-09 12:46:25.530 +05:30 [INF] Applying migration '20251009071458_FixDynamicSeedData'.
2025-10-09 12:46:25.560 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedDate" = TIMESTAMPTZ '2024-01-01T00:00:00Z'
WHERE "Id" = 1;
2025-10-09 12:46:25.564 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedDate" = TIMESTAMPTZ '2024-01-01T00:00:00Z'
WHERE "Id" = 2;
2025-10-09 12:46:25.567 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedDate" = TIMESTAMPTZ '2024-01-01T00:00:00Z'
WHERE "Id" = 3;
2025-10-09 12:46:25.570 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedDate" = TIMESTAMPTZ '2024-01-01T00:00:00Z'
WHERE "Id" = 4;
2025-10-09 12:46:25.573 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedDate" = TIMESTAMPTZ '2024-01-01T00:00:00Z'
WHERE "Id" = 5;
2025-10-09 12:46:25.576 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedDate" = TIMESTAMPTZ '2024-01-01T00:00:00Z'
WHERE "Id" = 6;
2025-10-09 12:46:25.579 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251009071458_FixDynamicSeedData', '9.0.9');
2025-10-09 12:46:25.597 +05:30 [INF] Database migrations applied successfully.
2025-10-09 12:46:25.600 +05:30 [INF] PMCRMS API is starting up...
2025-10-09 12:46:25.614 +05:30 [INF] User profile is available. Using 'C:\Users\YashTurmbekar\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-09 12:46:25.682 +05:30 [INF] Now listening on: http://localhost:5086
2025-10-09 12:46:25.685 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-10-09 12:46:25.687 +05:30 [INF] Hosting environment: Development
2025-10-09 12:46:25.688 +05:30 [INF] Content root path: D:\Ezybricks\PMCRMS\backend\PMCRMS.API
2025-10-09 12:46:55.466 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5086/ - null null
2025-10-09 12:46:55.528 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5086/ - 301 0 null 61.6033ms
2025-10-09 12:46:55.539 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5086/index.html - null null
2025-10-09 12:46:55.639 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5086/index.html - 200 null text/html;charset=utf-8 99.89ms
2025-10-09 12:46:55.658 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5086/swagger-ui.css - null null
2025-10-09 12:46:55.660 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5086/index.css - null null
2025-10-09 12:46:55.663 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5086/swagger-ui-bundle.js - null null
2025-10-09 12:46:55.663 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5086/swagger-ui-standalone-preset.js - null null
2025-10-09 12:46:55.665 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5086/index.js - null null
2025-10-09 12:46:55.685 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5086/index.js - 200 null application/javascript;charset=utf-8 20.1579ms
2025-10-09 12:46:55.687 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5086/swagger-ui.css - 200 23647 text/css 28.8468ms
2025-10-09 12:46:55.687 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5086/index.css - 200 152 text/css 26.1652ms
2025-10-09 12:46:55.701 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5086/swagger-ui-standalone-preset.js - 200 77352 text/javascript 37.6106ms
2025-10-09 12:46:55.701 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5086/swagger-ui-bundle.js - 200 424767 text/javascript 38.209ms
2025-10-09 12:46:56.529 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5086/swagger/v1/swagger.json - null null
2025-10-09 12:46:56.555 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5086/favicon-32x32.png - null null
2025-10-09 12:46:56.562 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5086/favicon-32x32.png - 200 628 image/png 6.3302ms
2025-10-09 12:46:56.718 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5086/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 188.5149ms
